<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8) ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<meta charset="utf-8">
<title>HTML5 Accessibility Chops: &#8216;real world&#8217; ARIA landmark use | TPG – Digital Accessibility Solutions</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, shrink-to-fit=no">
<link rel="alternate" type="application/rss+xml" title="TPG" href="https://developer.paciellogroup.com/feed/">
<link rel="alternate" type="application/atom+xml" title="TPG" href="https://developer.paciellogroup.com/feed/atom/">
<meta name="theme-color" content="#1b75bc">
<link rel="icon" sizes="192x192" href="https://developer.paciellogroup.com/wp-content/themes/tpg2015/images/icon192x192.png">
<link rel="apple-touch-icon" href="https://developer.paciellogroup.com/wp-content/themes/tpg2015/images/icon192x192.png">
<meta name="application-name" content="The Paciello Group (TPG)">
<meta name="msapplication-TileColor" content="#1b75bc">
<meta name="msapplication-TileImage" content="https://developer.paciellogroup.com/wp-content/themes/tpg2015/images/tpg-white-trans-144.png?1">
<meta name="msapplication-square70x70logo" content="https://developer.paciellogroup.com/wp-content/themes/tpg2015/images/tpg-white-trans-70.png?1">
<meta name="msapplication-square150x150logo" content="https://developer.paciellogroup.com/wp-content/themes/tpg2015/images/tpg-white-trans-150.png?1">
<meta name="msapplication-square310x310logo" content="https://developer.paciellogroup.com/wp-content/themes/tpg2015/images/tpg-white-trans-310.png?1">

<!-- Bootstrap core CSS and custom styles-->
<link href="https://developer.paciellogroup.com/wp-content/themes/tpg2015/style.css?20180104" rel="stylesheet">
<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<!-- highlight.js -->
<link href="https://developer.paciellogroup.com/wp-content/themes/tpg2015/highlight.js/styles/github.css" rel="stylesheet">
<!-- /highlight.js -->
<!-- JM Twitter Cards by Julien Maury 9.4 -->
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@paciellogroup">
<meta name="twitter:site" content="@paciellogroup">
<meta property="og:title" content="HTML5 Accessibility Chops: &#8216;real world&#8217; ARIA landmark use">
<meta property="og:description" content="I tweeted yesterday about initial results of data crunching on ARIA landmark role use on the top 10,000 web sites HTML home page code samples. What I found is very encouraging.ARIA role=banner usage">
<meta property="og:image" content="https://developer.paciellogroup.com/wp-content/uploads/2016/02/icon192x192.png">
<!-- /JM Twitter Cards by Julien Maury 9.4 -->
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="TPG &raquo; HTML5 Accessibility Chops: &#8216;real world&#8217; ARIA landmark use Comments Feed" href="https://developer.paciellogroup.com/blog/2012/04/html5-accessibility-chops-real-world-aria-landmark-use/feed/" />
<!-- This site uses the Google Analytics by MonsterInsights plugin v7.3.0 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<script type="text/javascript" data-cfasync="false">
	var mi_version         = '7.3.0';
	var mi_track_user      = true;
	var mi_no_track_reason = '';
	
	var disableStr = 'ga-disable-UA-42425022-5';

	/* Function to detect opted out users */
	function __gaTrackerIsOptedOut() {
		return document.cookie.indexOf(disableStr + '=true') > -1;
	}

	/* Disable tracking if the opt-out cookie exists. */
	if ( __gaTrackerIsOptedOut() ) {
		window[disableStr] = true;
	}

	/* Opt-out function */
	function __gaTrackerOptout() {
	  document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
	  window[disableStr] = true;
	}
	
	if ( mi_track_user ) {
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

		__gaTracker('create', 'UA-42425022-5', 'auto');
		__gaTracker('set', 'forceSSL', true);
		__gaTracker('require', 'displayfeatures');
		__gaTracker('require', 'linkid', 'linkid.js');
		__gaTracker('send','pageview');
	} else {
		console.log( "" );
		(function() {
			/* https://developers.google.com/analytics/devguides/collection/analyticsjs/ */
			var noopfn = function() {
				return null;
			};
			var noopnullfn = function() {
				return null;
			};
			var Tracker = function() {
				return null;
			};
			var p = Tracker.prototype;
			p.get = noopfn;
			p.set = noopfn;
			p.send = noopfn;
			var __gaTracker = function() {
				var len = arguments.length;
				if ( len === 0 ) {
					return;
				}
				var f = arguments[len-1];
				if ( typeof f !== 'object' || f === null || typeof f.hitCallback !== 'function' ) {
					console.log( 'Not running function __gaTracker(' + arguments[0] + " ....) because you are not being tracked. " + mi_no_track_reason );
					return;
				}
				try {
					f.hitCallback();
				} catch (ex) {

				}
			};
			__gaTracker.create = function() {
				return new Tracker();
			};
			__gaTracker.getByName = noopnullfn;
			__gaTracker.getAll = function() {
				return [];
			};
			__gaTracker.remove = noopfn;
			window['__gaTracker'] = __gaTracker;
					})();
		}
</script>
<!-- / Google Analytics by MonsterInsights -->
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/developer.paciellogroup.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='basic_events_listing-style-css'  href='https://developer.paciellogroup.com/wp-content/plugins/basic-events-listing/style.css?ver=4.9.8' type='text/css' media='all' />
<script type='text/javascript' src='https://developer.paciellogroup.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://developer.paciellogroup.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","is_debug_mode":"false","download_extensions":"doc,exe,js,pdf,ppt,tgz,zip,xls","inbound_paths":"","home_url":"https:\/\/developer.paciellogroup.com","track_download_as":"event","internal_label":"int","hash_tracking":"false"};
/* ]]> */
</script>
<script type='text/javascript' src='https://developer.paciellogroup.com/wp-content/plugins/google-analytics-for-wordpress/assets/js/frontend.min.js?ver=7.3.0'></script>
<script type='text/javascript' src='https://developer.paciellogroup.com/wp-content/themes/tpg2015/bootstrap/js/bootstrap.min.js?ver=4.9.8'></script>
<script type='text/javascript' src='https://developer.paciellogroup.com/wp-content/themes/tpg2015/js/scripts.js?ver=4.9.8'></script>
<link rel='https://api.w.org/' href='https://developer.paciellogroup.com/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://developer.paciellogroup.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://developer.paciellogroup.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Web Accessibility Toolbar 2012' href='https://developer.paciellogroup.com/blog/2012/04/web-accessibility-toolbar-2012/' />
<link rel='next' title='how to remove CSS outlines in an accessible manner?' href='https://developer.paciellogroup.com/blog/2012/04/how-to-remove-css-outlines-in-an-accessible-manner/' />
<meta name="generator" content="WordPress 4.9.8" />
<link rel="canonical" href="https://developer.paciellogroup.com/blog/2012/04/html5-accessibility-chops-real-world-aria-landmark-use/" />
<link rel='shortlink' href='https://developer.paciellogroup.com/?p=1391' />
<link rel="alternate" type="application/json+oembed" href="https://developer.paciellogroup.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.paciellogroup.com%2Fblog%2F2012%2F04%2Fhtml5-accessibility-chops-real-world-aria-landmark-use%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://developer.paciellogroup.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.paciellogroup.com%2Fblog%2F2012%2F04%2Fhtml5-accessibility-chops-real-world-aria-landmark-use%2F&#038;format=xml" />
</head>

<body>
<div class="container" id="content">


<div class="row">
	<div class="col-md-12">
		<main>
								<article class="singlepost">
						<h1>HTML5 Accessibility Chops: &#8216;real world&#8217; ARIA landmark use</h1>
						<div class="meta" hidden>
							<div>Posted on Wednesday, 18 April 2012 by <span class="author vcard">Steve Faulkner</span></div>
							<div class="taxonomy">
								<ul><li><span class="fa fa-folder-open" aria-hidden="true"></span><span class="sr-only">Category: </span><a href="https://developer.paciellogroup.com/blog/category/strategy/" rel="tag">Strategy</a></li></ul>															</div>
						</div>
						<p>I <a href="https://twitter.com/#!/stevefaulkner/status/192332362401587200">tweeted</a> yesterday about initial results of data crunching on ARIA landmark role use on the top <a href="http://www.paciellogroup.com/blog/2012/04/html5-accessibility-chops-data-for-the-masses/">10,000 web sites HTML</a> home page code samples. What I found is very encouraging.<br />
<span id="more-1391"></span></p>
<h3>ARIA role=banner usage</h3>
<p><a href="http://www.paciellogroup.com/wp-content/uploads/2012/04/aria-5.png"><img class="alignleft size-medium wp-image-1395" src="http://www.paciellogroup.com/wp-content/uploads/2012/04/aria-5-237x300.png" alt="custom ARIA HTML5 logo" width="237" height="300" /></a>As per the ARIA specification there should only be 1 <a href="http://www.w3.org/TR/wai-aria/roles#banner">role=banner</a> per page. Of the 93 pages found to include the banner role:</p>
<ul>
<li><strong>90 pages had 1 instance (97%)<br />
</strong></li>
<li>2 pages had 2 instances</li>
<li>1 page had 4 instances</li>
</ul>
<h3>ARIA role=main usage</h3>
<p>As per the ARIA specification there should only be 1 <a href="http://www.w3.org/TR/wai-aria/roles#main">role=main</a> per page. Of the 130 pages found to include the main role:</p>
<ul>
<li><strong>124 pages had 1 instance (95%)<br />
</strong></li>
<li>1 pages had 2 instances</li>
<li>1 page had 3 instances</li>
<li>1 page had 4 instances</li>
<li>1 page had 7 instances</li>
<li>2 pages had 10 instances: <a href="http://thedailywh.at/">The daily What</a> &amp; <a href="http://failblog.org/">fail blog</a> which look to be affiliated sites using the same template.</li>
</ul>
<h3>ARIA role=contentinfo usage</h3>
<p>As per the ARIA specification there should only be 1 <a href="http://www.w3.org/TR/wai-aria/roles#contentinfo">role=contentinfo</a> per page. Of the 72 pages found to include the contentinfo role:</p>
<ul>
<li><strong>69 pages had 1 instance (96%)<br />
</strong></li>
<li>1 pages had 2 instances</li>
<li>1 page had 2 instances</li>
<li><a href="http://t3n.de/">1 page had 26 instances</a></li>
<li><a href="http://www.gaopeng.com/deals/quanguo">1 page had 72 instances</a></li>
</ul>
<h3>Other analysis:</h3>
<ul>
<li>There was found to be a high correlation between use of the ARIA landmark roles  and use of the <a href="http://www.paciellogroup.com/blog/2012/04/html-data-for-the-masses-doctype-usage/">HTML5 doctype</a>. For example of the 130 pages containing role=main, 101 (78%) also used the HTML5 doctype.</li>
<li>Typically role=main was included on a div element and there was a high correlation between use of role=main and id values such as &#8220;main&#8221; (39 instances) and &#8220;content&#8221; (34 instances).</li>
<li>role=&#8221;contentinfo&#8221; was used in conjunction with the footer element on 36/69 (52%) of instances.</li>
<li>role=banner was used in conjunction with the header element on 41/93 (44%) of instances.</li>
<li>The use of any landmark roles across the 8900 or so sample pages was low (approx. 3%), but use was considerably higher (17%) on the subset of pages (1539) that used the HTML5 doctype.</li>
<li>role= search was found on 103 pages, 90 had 1 instance, 13 had 2 instances.</li>
<li>role=application was found on only 5 pages, which is a good result <a href="http://www.marcozehe.de/2012/02/06/if-you-use-the-wai-aria-role-application-please-do-so-wisely/">considering the issues</a> that can arise through its misuse.</li>
</ul>
<h3>Conclusion</h3>
<p>From an initial analysis the correct use of ARIA landmark roles is <strong>surprisingly high</strong>. Developers are generally using ARIA landmark roles as intended. Although use is low, there is an major upward trend in use as sites switch to HTML5.</p>
<h3>Further reading:</h3>
<ul>
<li><a rel="bookmark" href="../2011/11/latest-aria-landmark-support-data/">Latest ARIA landmark support data</a></li>
<li><a rel="bookmark" href="../2012/04/html5-accessibility-chops-data-for-the-masses/">HTML5 Accessibility Chops: data for the masses</a></li>
<li><a rel="bookmark" href="../2012/04/html-data-for-the-masses-doctype-usage/">HTML data for the masses: DOCTYPE usage</a></li>
<li><a rel="bookmark" href="../2010/10/using-wai-aria-landmark-roles/">Using WAI ARIA Landmark Roles – updated</a></li>
</ul>
					</article>
											
					
<div id="comments" class="comments-area">

	<h2 class="comments-title"><span class="fa fa-comments-o" aria-hidden="true"></span> Comments</h2>

	
	<ol class="comment-list">
				<li id="comment-635" class="comment even thread-even depth-1">
			<article id="div-comment-635" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/be1e3d58aca6cd2c5a723e98e6403158?s=34&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/be1e3d58aca6cd2c5a723e98e6403158?s=68&#038;d=mm&#038;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' />						<b class="fn">Matt King</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://developer.paciellogroup.com/blog/2012/04/html5-accessibility-chops-real-world-aria-landmark-use/#comment-635">
							<time datetime="2012-04-18T10:19:14+00:00">
								Wednesday, 18 April 2012 at 10:19 am							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Steve,</p>
<p>Thanks for this. It is good news to see the use of ARIA landmark region roles growing.</p>
<p>I am curious about how you approached counting instances of roles like main and banner. Multiple instances per page are allowed and important to have in particular cases. The restriction is at the document or application level. I am seeing cases where it might be advisable for us to reword the restriction a bit more broadly than the note currently included in the definitions allows.</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-636" class="comment byuser comment-author-stevefaulkner bypostauthor odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-636" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/12c1f1f330e3f2e393d0a7e15ff18eb4?s=34&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/12c1f1f330e3f2e393d0a7e15ff18eb4?s=68&#038;d=mm&#038;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' />						<b class="fn">Steve Faulkner</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://developer.paciellogroup.com/blog/2012/04/html5-accessibility-chops-real-world-aria-landmark-use/#comment-636">
							<time datetime="2012-04-18T13:38:10+00:00">
								Wednesday, 18 April 2012 at 1:38 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Hi Matt, </p>
<blockquote><p>am curious about how you approached counting instances of roles like main and banner. Multiple instances per page are allowed and important to have in particular cases. The restriction is at the document or application level. I am seeing cases where it might be advisable for us to reword the restriction a bit more broadly than the note currently included in the definitions allows.</p></blockquote>
<p>If a document contains a nested document then I agree its OK to have main and banner in the nested document as weel. But in the majority of cases for web pages I consider that 1 banner/main/contentinfo is a good rule of thumb.</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-637" class="comment even thread-even depth-1">
			<article id="div-comment-637" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/5cd01b8b615fd6d9843c5dc5377d6e69?s=34&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/5cd01b8b615fd6d9843c5dc5377d6e69?s=68&#038;d=mm&#038;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' />						<b class="fn">Raymond Schwartz</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://developer.paciellogroup.com/blog/2012/04/html5-accessibility-chops-real-world-aria-landmark-use/#comment-637">
							<time datetime="2012-04-19T08:01:38+00:00">
								Thursday, 19 April 2012 at 8:01 am							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Hey Steve,<br />
The close correlation between the HTML5 doctype and use of ARIA roles may be related to the literature covering HTML5. Since ARIA is part of the HTML5 spec, any comprehensive study of HTML5 should include it, and that&#8217;s what I&#8217;ve found in my reading. And I wish more than 3% used ARIA but structural markup changes occur rarely vs how often the content within might. Are you planning on resurveying at some point? Thanks for doing this research. Tipped to your post by @brucel.</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
		<li id="comment-638" class="comment byuser comment-author-stevefaulkner bypostauthor odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-638" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://secure.gravatar.com/avatar/12c1f1f330e3f2e393d0a7e15ff18eb4?s=34&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/12c1f1f330e3f2e393d0a7e15ff18eb4?s=68&#038;d=mm&#038;r=g 2x' class='avatar avatar-34 photo' height='34' width='34' />						<b class="fn">Steve Faulkner</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://developer.paciellogroup.com/blog/2012/04/html5-accessibility-chops-real-world-aria-landmark-use/#comment-638">
							<time datetime="2012-04-21T03:58:24+00:00">
								Saturday, 21 April 2012 at 3:58 am							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>hi raymond,<br />
yes am planning to re-survey on a semi regular basis.</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
</li><!-- #comment-## -->
	</ol><!-- .comment-list -->

	
		<p class="no-comments"><strong>Comments for this post are closed.</strong></p>
	
	
</div><!-- #comments -->
		</main>
	</div>
	</div>

<!-- debug: single -->

</div> <!-- /container -->
<footer>
	
</footer>
<script type='text/javascript' src='https://developer.paciellogroup.com/wp-includes/js/wp-embed.min.js?ver=4.9.8'></script>
<!-- highlight.js -->
<script src="https://developer.paciellogroup.com/wp-content/themes/tpg2015/highlight.js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!-- fastclick.js -->
<script src="https://developer.paciellogroup.com/wp-content/themes/tpg2015/fastclick/fastclick.min.js"></script>
<script>window.addEventListener("load", function() {
    new FastClick(document.body);
}, false);</script>
<!-- /fastclick.js -->
<script>
// Get the nav by id
var pNav = document.getElementById("primaryNav");

function unClassy(){
	try {
		// Remove the focus class
		pNav.classList.remove("focus");
		// Remove the focus class from all its descendents
		pNavDesc = pNav.getElementsByTagName('*');
		for( var i = 0; i<pNavDesc.length; i++){
			// pNavDesc[i].removeAttribute("class");
			pNavDesc[i].classList.remove("focus");
		}
	} catch (e) {
		console.log(e);
	}	
}

/* For any clicks, clear the focus class from the nav and all its descendants, essentially closing the menu when a user clicks/taps outside of it. */
document.documentElement.onclick=function() {
	try {
		unClassy();
	} catch (e) {
		console.log(e);
	}
}

/* Manipulate focus classes in navigation. */
function classy(){
	try {
		unClassy();
		// Add the focus class to items that have focus
		// Get the element that currently has focus
		var focusedElement = document.activeElement;
		// If that element is the primary nav, add the class
		if (focusedElement.id == pNav.id){
			// Add the focus class
			pNav.classList.add("focus");
		}
		// If nav contains the focused element, add the class
		if (pNav.contains(focusedElement)){
			focusedElement.classList.add("focus");
			el = focusedElement;
			while (el.parentNode) {
				el.classList.add("focus");
				el = el.parentNode;
			}
		}
	} catch (e) {
		console.log(e);
	}
}

/* Delay the assigning of classes to give the :focus a chance to catch up. There has to be a better way for this. */
document.documentElement.addEventListener("keydown", delayClassy, false);
function delayClassy(){
	try {
		setTimeout(classy, 200);
	} catch (e) {
		console.log(e);
	}
}  
</script>
</body>
</html>